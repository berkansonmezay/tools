<div class="app-container">
  <!-- Header -->
  <header>
    <img id="header-logo" class="header-logo" alt="Logo" />
    <h1>Otomatik SÄ±nav Salon DaÄŸÄ±tÄ±m UygulamasÄ±</h1>
    <p>Ã–ÄŸrenci listelerini yÃ¼kleyin, salonlarÄ± tanÄ±mlayÄ±n ve tek tÄ±kla otomatik daÄŸÄ±tÄ±m yapÄ±n.</p>
  </header>

  <!-- Wizard Progress -->
  <div class="wizard-steps">
    <div class="step-indicator active" id="step-indicator-1">
      <span class="step-num">1</span>
      <span class="step-label">Ã–ÄŸrenci Listesi</span>
    </div>
    <div class="step-connector" id="connector-1"></div>
    <div class="step-indicator" id="step-indicator-2">
      <span class="step-num">2</span>
      <span class="step-label">SÄ±nav SalonlarÄ±</span>
    </div>
    <div class="step-connector" id="connector-2"></div>
    <div class="step-indicator" id="step-indicator-3">
      <span class="step-num">3</span>
      <span class="step-label">DaÄŸÄ±tÄ±m Sonucu</span>
    </div>
    <div class="step-connector" id="connector-3"></div>
    <div class="step-indicator" id="step-indicator-4">
      <span class="step-num">4</span>
      <span class="step-label">GiriÅŸ Belgesi</span>
    </div>
    <div class="step-connector" id="connector-4"></div>
    <div class="step-indicator" id="step-indicator-5">
      <span class="step-num">5</span>
      <span class="step-label">Optik Form</span>
    </div>
  </div>

  <main>
    <!-- ==================== STEP 1: Students ==================== -->
    <section id="step-1" class="step-content card animate-in">
      <div class="card-header">
        <h2>ğŸ“š Ã–ÄŸrenci Listesi YÃ¼kleme</h2>
        <p class="text-muted">SÄ±nava girecek Ã¶ÄŸrencilerin listesini Excel dosyasÄ± olarak yÃ¼kleyin.</p>
      </div>

      <div class="template-download">
        <a id="download-student-template" class="btn btn-outline btn-template" download="sample_students.xlsx">
          ğŸ“¥ Ã–rnek Excel Åablonu Ä°ndir
        </a>
      </div>

      <div class="upload-area" id="student-upload-area">
        <div class="upload-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
            <polyline points="17 8 12 3 7 8" />
            <line x1="12" y1="3" x2="12" y2="15" />
          </svg>
        </div>
        <h3>DosyayÄ± sÃ¼rÃ¼kleyin veya seÃ§in</h3>
        <p>Desteklenen formatlar: .xlsx, .xls, .csv</p>
        <input type="file" id="student-file-input" accept=".xlsx,.xls,.csv" hidden />
        <button class="btn btn-primary" onclick="document.getElementById('student-file-input').click()">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
            <polyline points="14 2 14 8 20 8" />
          </svg>
          Dosya SeÃ§
        </button>
      </div>

      <div id="student-preview" class="hidden">
        <div class="info-bar">
          <div class="info-bar-left">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
              <circle cx="9" cy="7" r="4" />
              <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
              <path d="M16 3.13a4 4 0 0 1 0 7.75" />
            </svg>
            <strong>YÃ¼klenen Ã–ÄŸrenciler: <span id="student-count" class="badge">0</span></strong>
          </div>
          <button class="btn btn-sm btn-ghost" id="btn-reload-students">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2">
              <polyline points="23 4 23 10 17 10" />
              <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10" />
            </svg>
            Yeniden YÃ¼kle
          </button>
        </div>
        <div class="data-table-container">
          <table id="student-table">
            <thead>
              <tr>
                <th>No</th>
                <th>TC No</th>
                <th>Ad Soyad</th>
                <th>SÄ±nÄ±f</th>
                <th>BÃ¶lÃ¼m</th>
                <th>Telefon</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="card-footer">
          <div></div>
          <button id="btn-to-step-2" class="btn btn-primary">
            Sonraki: Salonlar
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2">
              <polyline points="9 18 15 12 9 6" />
            </svg>
          </button>
        </div>
      </div>
    </section>

    <!-- ==================== STEP 2: Rooms ==================== -->
    <section id="step-2" class="step-content card hidden">
      <div class="card-header">
        <h2>ğŸ« SÄ±nav SalonlarÄ±</h2>
        <p class="text-muted">SÄ±nav salonlarÄ±nÄ± ve kapasite bilgilerini tanÄ±mlayÄ±n.</p>
      </div>

      <div class="template-download">
        <a id="download-room-template" class="btn btn-outline btn-template" download="sample_rooms.xlsx">
          ğŸ“¥ Ã–rnek Salon Åablonu Ä°ndir
        </a>
      </div>

      <div class="two-col-grid">
        <!-- Excel Upload -->
        <div class="upload-area upload-area-compact" id="room-upload-area">
          <div class="upload-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="1.5">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
              <polyline points="17 8 12 3 7 8" />
              <line x1="12" y1="3" x2="12" y2="15" />
            </svg>
          </div>
          <h3>Salon DosyasÄ± YÃ¼kle</h3>
          <p>.xlsx, .xls, .csv</p>
          <input type="file" id="room-file-input" accept=".xlsx,.xls,.csv" hidden />
          <button class="btn btn-primary btn-sm" onclick="document.getElementById('room-file-input').click()">Dosya
            SeÃ§</button>
        </div>

        <!-- Manual Entry -->
        <div class="manual-entry-area">
          <h3>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2">
              <line x1="12" y1="5" x2="12" y2="19" />
              <line x1="5" y1="12" x2="19" y2="12" />
            </svg>
            Manuel Ekle
          </h3>
          <div class="manual-form">
            <input type="text" id="manual-room-name" placeholder="Salon AdÄ±" class="input" />
            <input type="number" id="manual-room-capacity" placeholder="Kapasite" class="input input-sm" />
            <input type="number" id="manual-room-priority" placeholder="Ã–ncelik" class="input input-sm" />
            <button id="btn-add-room" class="btn btn-accent btn-icon" title="Ekle">
              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2.5">
                <line x1="12" y1="5" x2="12" y2="19" />
                <line x1="5" y1="12" x2="19" y2="12" />
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Room List -->
      <div id="room-list-section">
        <div class="info-bar">
          <div class="info-bar-left">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="7" height="7" />
              <rect x="14" y="3" width="7" height="7" />
              <rect x="14" y="14" width="7" height="7" />
              <rect x="3" y="14" width="7" height="7" />
            </svg>
            <strong>Salonlar: <span id="room-count" class="badge">0</span></strong>
            <span class="divider">|</span>
            <strong>Toplam Kapasite: <span id="total-capacity" class="badge badge-accent">0</span></strong>
          </div>
          <button id="btn-export-rooms" class="btn btn-sm btn-ghost">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
              <polyline points="7 10 12 15 17 10" />
              <line x1="12" y1="15" x2="12" y2="3" />
            </svg>
            Excel'e Aktar
          </button>
        </div>
        <div class="data-table-container">
          <table id="room-table">
            <thead>
              <tr>
                <th>Salon AdÄ±</th>
                <th>Kapasite</th>
                <th>Ã–ncelik</th>
                <th style="width: 80px">Ä°ÅŸlem</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>

      <div class="card-footer">
        <button id="btn-back-to-step-1" class="btn btn-outline">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <polyline points="15 18 9 12 15 6" />
          </svg>
          Ã–nceki AdÄ±m
        </button>
        <button id="btn-to-step-3" class="btn btn-primary">
          DaÄŸÄ±tÄ±mÄ± BaÅŸlat
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <polyline points="9 18 15 12 9 6" />
          </svg>
        </button>
      </div>
    </section>

    <!-- ==================== STEP 3: Results ==================== -->
    <section id="step-3" class="step-content card hidden">
      <div class="card-header">
        <h2>ğŸ“Š DaÄŸÄ±tÄ±m Raporu</h2>
        <p class="text-muted">Ã–ÄŸrencilerin salonlara daÄŸÄ±tÄ±mÄ± tamamlandÄ±.</p>
      </div>

      <div class="export-actions">
        <button id="btn-export-excel" class="btn btn-success">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
            <polyline points="14 2 14 8 20 8" />
          </svg>
          Excel Ä°ndir
        </button>
        <button id="btn-export-pdf" class="btn btn-danger">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
            <polyline points="14 2 14 8 20 8" />
          </svg>
          PDF Raporu Al
        </button>
      </div>

      <div id="distribution-summary"></div>
      <div id="distribution-results"></div>

      <div class="card-footer">
        <button id="btn-back-to-step-2" class="btn btn-outline">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <polyline points="15 18 9 12 15 6" />
          </svg>
          Ã–nceki AdÄ±m
        </button>
        <button id="btn-to-step-4" class="btn btn-primary">
          Sonraki: GiriÅŸ Belgesi
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <polyline points="9 18 15 12 9 6" />
          </svg>
        </button>
      </div>
    </section>

    <!-- ==================== STEP 4: Exam Entry Document ==================== -->
    <section id="step-4" class="step-content card hidden">
      <div class="card-header">
        <h2>ğŸ« SÄ±nav GiriÅŸ Belgesi</h2>
        <p class="text-muted">SÄ±nav bilgilerini girerek giriÅŸ belgesi oluÅŸturun.</p>
      </div>

      <div class="template-download">
        <a id="download-exam-template" class="btn btn-outline btn-template" download="sinav_bilgi_sablonu.xlsx">
          ğŸ“¥ Ã–rnek SÄ±nav Bilgi Åablonu Ä°ndir
        </a>
      </div>

      <div class="two-col-grid">
        <!-- Excel Upload -->
        <div class="upload-area upload-area-compact" id="exam-upload-area">
          <div class="upload-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="1.5">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
              <polyline points="17 8 12 3 7 8" />
              <line x1="12" y1="3" x2="12" y2="15" />
            </svg>
          </div>
          <h3>SÄ±nav Bilgi DosyasÄ± YÃ¼kle</h3>
          <p>.xlsx, .xls, .csv</p>
          <input type="file" id="exam-file-input" accept=".xlsx,.xls,.csv" hidden />
          <button class="btn btn-primary btn-sm" onclick="document.getElementById('exam-file-input').click()">Dosya
            SeÃ§</button>
        </div>

        <!-- Manual Entry -->
        <div class="manual-entry-area">
          <h3>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2">
              <line x1="12" y1="5" x2="12" y2="19" />
              <line x1="5" y1="12" x2="19" y2="12" />
            </svg>
            Manuel GiriÅŸ
          </h3>
          <div class="exam-form">
            <div class="exam-form-field">
              <label for="exam-name">SÄ±nav AdÄ±</label>
              <input type="text" id="exam-name" placeholder="Ã–rn: 2026 Bahar DÃ¶nemi Final SÄ±navÄ±" class="input" />
            </div>
            <div class="exam-form-field">
              <label for="exam-date">SÄ±nav Tarihi</label>
              <input type="date" id="exam-date" class="input" />
            </div>
            <div class="exam-form-field">
              <label for="exam-time">SÄ±nav Saati</label>
              <input type="time" id="exam-time" class="input" />
            </div>
            <div class="exam-form-field">
              <label for="exam-institution">SÄ±nav Yeri</label>
              <input type="text" id="exam-institution" placeholder="Ã–rn: Edesis EÄŸitim KurumlarÄ±" class="input" />
            </div>
            <div class="exam-form-field">
              <label for="exam-location">Adres</label>
              <input type="text" id="exam-location" placeholder="Ã–rn: Merkez KampÃ¼s, Bursa" class="input" />
            </div>
          </div>
        </div>
      </div>

      <!-- Exam Info Preview -->
      <div id="exam-info-preview" class="hidden">
        <div class="info-bar">
          <div class="info-bar-left">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
              <polyline points="14 2 14 8 20 8" />
            </svg>
            <strong>SÄ±nav Bilgileri YÃ¼klendi</strong>
          </div>
        </div>
        <div class="exam-info-cards">
          <div class="exam-info-card">
            <span class="exam-info-label">SÄ±nav AdÄ±</span>
            <span class="exam-info-value" id="exam-preview-name">â€”</span>
          </div>
          <div class="exam-info-card">
            <span class="exam-info-label">SÄ±nav Tarihi</span>
            <span class="exam-info-value" id="exam-preview-date">â€”</span>
          </div>
          <div class="exam-info-card">
            <span class="exam-info-label">Adres</span>
            <span class="exam-info-value" id="exam-preview-location">â€”</span>
          </div>
        </div>
      </div>

      <div class="card-footer">
        <button id="btn-back-to-step-3" class="btn btn-outline">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <polyline points="15 18 9 12 15 6" />
          </svg>
          Ã–nceki AdÄ±m
        </button>
        <div style="display: flex; gap: 0.5rem;">
          <button id="btn-generate-entry-docs" class="btn btn-outline">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
              <polyline points="14 2 14 8 20 8"></polyline>
              <line x1="16" y1="13" x2="8" y2="13"></line>
              <line x1="16" y1="17" x2="8" y2="17"></line>
            </svg>
            GiriÅŸ Belgeleri (PDF)
          </button>
          <button id="btn-to-step-5" class="btn btn-primary">
            Sonraki: Optik Form
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2">
              <polyline points="9 18 15 12 9 6" />
            </svg>
          </button>
        </div>
      </div>
    </section>

    <!-- ==================== STEP 5: Optical Form ==================== -->
    <section id="step-5" class="step-content card hidden">
      <div class="card-header">
        <h2>ğŸ“ Optik Form OluÅŸtur</h2>
        <p class="text-muted">Ã–ÄŸrenci bilgilerini iÃ§eren optik formlarÄ± (cevap kaÄŸÄ±dÄ±) oluÅŸturun.</p>
      </div>

      <div class="two-col-grid">
        <label class="upload-area upload-area-compact" id="optical-type-lgs" for="opt-lgs-radio">
          <div class="upload-icon">
            <span style="font-size: 2rem;">ğŸ“˜</span>
          </div>
          <h3>LGS SÄ±navÄ±</h3>
          <p>SÃ¶zel ve SayÄ±sal bÃ¶lÃ¼mler</p>
          <input type="radio" name="optical-type" id="opt-lgs-radio" value="lgs" style="accent-color: var(--primary);">
        </label>

        <label class="upload-area upload-area-compact" id="optical-type-tyt" for="opt-tyt-radio">
          <div class="upload-icon">
            <span style="font-size: 2rem;">ğŸ“™</span>
          </div>
          <h3>TYT / AYT SÄ±navÄ±</h3>
          <p>Temel Yeterlilik ve Alan Yeterlilik Testleri</p>
          <input type="radio" name="optical-type" id="opt-tyt-radio" value="tyt" style="accent-color: var(--primary);">
        </label>
      </div>

      <div class="info-bar" id="optical-info-bar" style="justify-content: center;">
        <span class="text-muted">LÃ¼tfen bir sÄ±nav tÃ¼rÃ¼ seÃ§iniz.</span>
      </div>

      <div class="card-footer">
        <button id="btn-back-to-step-4" class="btn btn-outline">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <polyline points="15 18 9 12 15 6" />
          </svg>
          Ã–nceki AdÄ±m
        </button>
        <button id="btn-restart" class="btn btn-outline" title="BaÅŸtan BaÅŸla">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <polyline points="23 4 23 10 17 10" />
            <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10" />
          </svg>
          BaÅŸtan BaÅŸla
        </button>
        <button id="btn-generate-optical" class="btn btn-primary" disabled>
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14 2 14 8 20 8"></polyline>
            <circle cx="12" cy="14" r="2"></circle>
          </svg>
          Optik FormlarÄ± OluÅŸtur (PDF)
        </button>
      </div>
    </section>
  </main>

  <!-- Toast Container -->
  <div id="toast-container"></div>
</div>